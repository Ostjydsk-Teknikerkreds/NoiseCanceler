/*******************************************************************************
 * @file AudioSampler.cpp
 * @date 2023-12-07
 * @author Markus Rytter (markus.r@live.dk)
 *
 * @copyright Copyright (c) 2023
 *
 ******************************************************************************/

/**
 * @addtogroup Infrastructure
 * @{
 */

/*******************************************************************************
 *    Private Includes
 ******************************************************************************/

#include "audio_sampler.h"

#include <stdio.h>

#include "hardware/adc.h"
#include "pico/stdlib.h"

/*******************************************************************************
 *    Private Defines
 ******************************************************************************/

/*******************************************************************************
 *    Private Type defintions
 ******************************************************************************/

/*******************************************************************************
 *    Extern
 ******************************************************************************/

/*******************************************************************************
 *    Private Class/Functions
 ******************************************************************************/

repeating_timer_t timer;

/*******************************************************************************
 *    Public Class/Functions
 ******************************************************************************/

static bool timer_callback(repeating_timer_t *rt)
{
    uint16_t read_value = adc_read();
}

int audio_sampler_init()
{
    adc_init();

    if (!add_repeating_timer_us(-100, timer_callback, NULL, &timer))
    {
        printf("Failed to add timer\n");
        return 1;
    }
}

/*******************************************************************************/

/** @} addtogroup end */
