/*******************************************************************************
 * @file lms.h
 * @date 2023-12-06
 * @author Markus Rytter (markus.r@live.dk)
 *
 * @copyright Copyright (c) 2023
 *
 *******************************************************************************/

/**
 * @addtogroup Domain
 * @{
 */

#ifndef LMS_H
#define LMS_H

/*******************************************************************************
 *    Includes
 ******************************************************************************/

#include <stdint.h>

/*******************************************************************************
 *    Defines
 ******************************************************************************/

/*******************************************************************************
 *    Type defines
 ******************************************************************************/

typedef struct {
  float * weights;
  uint16_t number_of_weights;
  float step_size;
  float regularization;
} lms_filter_t;

/*******************************************************************************
 *    External
 ******************************************************************************/

/*******************************************************************************
 *    Function prototypes
 ******************************************************************************/

void lms_filter_init(lms_filter_t *filter, uint16_t inputs, float step_size, float regularization);
float lms_filter_evaluate(lms_filter_t *filter, float * inputs, uint16_t size, float desired);

/*******************************************************************************/
/** @} addtogroup end */

#endif // LMS_H